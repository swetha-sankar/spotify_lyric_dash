(this.webpackJsonpspotify_dash=this.webpackJsonpspotify_dash||[]).push([[0],{133:function(t,e,i){},135:function(t,e,i){"use strict";i.r(e);var n=i(3),s=i.n(n),a=i(42),c=i.n(a),r=(i(54),i(43)),o=i(44),l=i(11),u=i(49),d=i(48),h=["user-top-read","user-read-currently-playing","user-read-playback-state"],j=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var i=e.split("=");t[i[0]]=decodeURIComponent(i[1])}return t}),{});window.location.hash="";var m=j,b=i(45),p=i(47),y=i(46),g=i(0),f=function(t){var e={apiKey:"s4N9wD5XItMSB-RyFAHS7oU0mHSNRnVvky_UX4R338TZOsfmqoRiIQEdcbYIeGYN",title:t.item.name,artist:t.item.artists[0].name,optimizeQuery:!0},i=Object(n.useState)(null),s=Object(p.a)(i,2),a=s[0],c=s[1];return Object(y.getLyrics)(e).then((function(t){return c(t)})),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"tile",children:[Object(g.jsxs)("div",{className:"tile is-parent is-vertical",children:[Object(g.jsx)("div",{className:"image is-size-5",children:Object(g.jsx)("img",{src:t.item.album.images[0].url,alt:t.item.name})}),Object(g.jsxs)("div",{className:"titlestyle",children:[Object(g.jsx)("div",{className:"subheader",children:t.is_playing?"Now Playing: ":"Paused: "}),t.item.name,Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"subheader",children:t.item.artists[0].name})]})]}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{className:"tile is-child",children:Object(g.jsx)("pre",{className:"lyricstyle",children:a})})]})})},v=(i(133),function(t){Object(u.a)(i,t);var e=Object(d.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}]},is_playing:"Paused",no_data:!1},n.getCurrentSong=n.getCurrentSong.bind(Object(l.a)(n)),n.tick=n.tick.bind(Object(l.a)(n)),n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=m.access_token;e&&(this.setState({token:e}),this.getCurrentSong(e)),this.interval=setInterval((function(){return t.tick()}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.state.token&&this.getCurrentSong(this.state.token)}},{key:"getCurrentSong",value:function(t){var e=this;b.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){t?e.setState({item:t.item,is_playing:t.is_playing,no_data:!1}):e.setState({no_data:!0})}})}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("header",{className:"App-header",children:[!this.state.token&&Object(g.jsx)("a",{className:"startbtn",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("ccab3dc5e39240cea3dfe5a16fd204a5","&redirect_uri=").concat("https://swetha-sankar.github.io/spotify_lyric_dash/","&scope=").concat(h.join("%20"),"&response_type=token&show_dialog=true"),children:"Login to Spotify"}),this.state.token&&!this.state.no_data&&Object(g.jsx)(f,{item:this.state.item,is_playing:this.state.is_playing}),this.state.no_data&&Object(g.jsx)("p",{className:"titlestyle",children:"Nothing currently playing"})]})})}}]),i}(n.Component)),O=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,136)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,a=e.getLCP,c=e.getTTFB;i(t),n(t),s(t),a(t),c(t)}))};i(134);c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),O()},54:function(t,e,i){}},[[135,1,2]]]);
//# sourceMappingURL=main.eca099ec.chunk.js.map