(this.webpackJsonpspotify_dash=this.webpackJsonpspotify_dash||[]).push([[0],{133:function(t,e,n){},135:function(t,e,n){"use strict";n.r(e);var i=n(3),a=n.n(i),s=n(42),c=n.n(s),r=(n(54),n(43)),o=n(44),l=n(11),u=n(49),d=n(48),h=["user-top-read","user-read-currently-playing","user-read-playback-state"],j=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}return t}),{});window.location.hash="";var m=j,b=n(45),p=n(47),g=n(46),y=n(0),v=function(t){var e={apiKey:"s4N9wD5XItMSB-RyFAHS7oU0mHSNRnVvky_UX4R338TZOsfmqoRiIQEdcbYIeGYN",title:t.item.name,artist:t.item.artists[0].name,optimizeQuery:!0},n=Object(i.useState)(null),a=Object(p.a)(n,2),s=a[0],c=a[1];return Object(g.getLyrics)(e).then((function(t){return c(t)})),Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"tile",children:[Object(y.jsxs)("div",{className:"tile is-parent is-vertical",children:[Object(y.jsx)("div",{className:"image is-size-5",children:Object(y.jsx)("img",{src:t.item.album.images[0].url,alt:t.item.name})}),Object(y.jsxs)("div",{className:"headtext",children:[Object(y.jsx)("div",{className:"subheader",children:t.is_playing?"Now Playing: ":"Paused: "}),t.item.name,Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"subheader",children:t.item.artists[0].name})]})]}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{className:"tile is-child",children:Object(y.jsx)("pre",{className:"lyricstyle",children:s})})]})})},f=(n(133),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}]},is_playing:"Paused",no_data:!1},i.getCurrentSong=i.getCurrentSong.bind(Object(l.a)(i)),i.tick=i.tick.bind(Object(l.a)(i)),i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=m.access_token;e&&(this.setState({token:e}),this.getCurrentSong(e)),this.interval=setInterval((function(){return t.tick()}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.state.token&&this.getCurrentSong(this.state.token)}},{key:"getCurrentSong",value:function(t){var e=this;b.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){t?e.setState({item:t.item,is_playing:t.is_playing,no_data:!1}):e.setState({no_data:!0})}})}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("header",{className:"App-header",children:[!this.state.token&&Object(y.jsx)("a",{className:"startbtn",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("ccab3dc5e39240cea3dfe5a16fd204a5","&redirect_uri=").concat("http://localhost:3000","&scope=").concat(h.join("%20"),"&response_type=token&show_dialog=true"),children:"Login to Spotify"}),this.state.token&&!this.state.no_data&&Object(y.jsx)(v,{item:this.state.item,is_playing:this.state.is_playing}),this.state.no_data&&Object(y.jsx)("p",{className:"headtext",children:"Nothing currently playing"})]})})}}]),n}(i.Component)),O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),i(t),a(t),s(t),c(t)}))};n(134);c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(f,{})}),document.getElementById("root")),O()},54:function(t,e,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.4bdd9416.chunk.js.map